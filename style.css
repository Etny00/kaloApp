:root {
    /* Light Theme Colors */
    --bg-color-light: #F3F4F6; /* gray-100 */
    --text-color-light: #556985;
    --text-color-light-secondary: #6B7280; /* gray-500 */
    --text-color-light-tertiary: #bfcad9;
    --text-color-link-light: #8395AF;
    --text-color-link-hover-light: #9FB8DF;
    --card-bg-light: #FFFFFF;
    --border-color-light: #E5E7EB; /* gray-200 */
    --input-border-light: #D1D5DB; /* gray-300 */
    --accent-color-light: #9FB8DF; /* Main blue */
    --accent-color-hover-light: #7C95C4; /* Darker blue for hover */
    --accent-text-color-light: #FFFFFF; /* Text on accent color background */
    --button-bg-light: transparent;
    --button-text-color-light: var(--accent-color-light);
    --button-border-color-light: var(--accent-color-light);
    --button-hover-bg-light: var(--accent-color-light);
    --button-hover-text-color-light: var(--accent-text-color-light);
    --button-disabled-bg-light: #CBD5E1;
    --button-disabled-text-color-light: #A0AEC0;
    --button-disabled-border-color-light: #CBD5E1;
    --nav-bg-light: #FFFFFF;
    --nav-text-color-light: #556985;
    --nav-hover-bg-light: #EFF6FF; /* blue-50 */
    --nav-hover-text-color-light: #7C95C4;
    --shadow-color-light: rgba(0, 0, 0, 0.1);
    --shadow-color-nav-light: rgba(0, 0, 0, 0.2);
    --progress-track-light: #E5E7EB; /* gray-200 */
    --progress-text-light: #556985;
    --progress-label-light: var(--text-color-light-tertiary);
    --input-bg-light: #FFFFFF;
    --input-text-light: #556985;
    --input-focus-border-light: var(--accent-color-light);
    --input-focus-shadow-light: rgba(159, 184, 223, 0.5);
    --modal-bg-light: #FFFFFF;
    --modal-overlay-bg-light: rgba(0, 0, 0, 0.6);
    --table-header-bg-light: #9FB8DF;
    --table-header-text-light: #FFFFFF;
    --table-row-odd-bg-light: #FFFFFF;
    --table-row-even-bg-light: #F9FAFB; /* gray-50 */
    --table-row-border-light: var(--border-color-light);
    --action-button-edit-text-light: var(--accent-color-light);
    --action-button-edit-hover-bg-light: #DBEAFE; /* blue-100 */
    --action-button-delete-text-light: #EF4444; /* red-500 */
    --action-button-delete-hover-bg-light: #FEE2E2; /* red-100 */
    --water-glass-bg-light: #EFF6FF; /* blue-50 */
    --water-glass-icon-light: #C0D1ED; /* text-blue-300 */
    --water-glass-filled-bg-light: #BFDBFE; /* blue-200 */
    --water-glass-filled-icon-light: #9FB8DF; /* text-blue-400 */
    --calendar-day-bg-light: #F0F8FF;
    --calendar-day-text-light: var(--text-color-light);
    --calendar-day-hover-bg-light: var(--accent-color-light);
    --calendar-day-hover-text-light: var(--accent-text-color-light);
    --calendar-selected-day-bg-light: var(--accent-color-light);
    --calendar-selected-day-text-light: var(--accent-text-color-light);
    --calendar-nav-button-bg-light: var(--accent-color-light);
    --calendar-nav-button-text-light: var(--accent-text-color-light);
    --calendar-nav-button-hover-bg-light: var(--accent-color-hover-light);
    --icon-neutral-color-light: #6B7280; /* gray-500 */
    --icon-neutral-hover-color-light: #4B5563; /* gray-600 */

    /* Specific Legend Colors */
    --legend-blue: #9FB8DF;
    --legend-green: #D4EAE4;
    --legend-yellow: #DED79F;
    --legend-gray: #E5E7EB; /* For progress circle track & other grays */
    --legend-purple: #C084FC; /* Existing purple for portion */

    /* Dark Theme Colors - Gentle & Comfortable Palette */
    --bg-color-dark: #111827; /* gray-900 */
    --text-color-dark: #D1D5DB; /* gray-300 */
    --text-color-dark-secondary: #9CA3AF; /* gray-400 */
    --text-color-dark-tertiary: #6B7280; /* gray-500 */
    --text-color-link-dark: #A5B4FC; /* lighter blue for dark */
    --text-color-link-hover-dark: #C7D2FE; /* even lighter blue */
    --card-bg-dark: #1F2937; /* gray-800 */
    --border-color-dark: #374151; /* gray-700 */
    --input-border-dark: #4B5563; /* gray-600 */
    --accent-color-dark: #A5B4FC; /* lighter blue for dark */
    --accent-color-hover-dark: #818CF8; /* indigo-400 for hover */
    --accent-text-color-dark: #111827; /* Dark text for light accent backgrounds */
    --button-bg-dark: transparent;
    --button-text-color-dark: var(--accent-color-dark);
    --button-border-color-dark: var(--accent-color-dark);
    --button-hover-bg-dark: var(--accent-color-dark);
    --button-hover-text-color-dark: var(--accent-text-color-dark);
    --button-disabled-bg-dark: #374151; /* gray-700 */
    --button-disabled-text-color-dark: #9CA3AF; /* gray-400 */
    --button-disabled-border-color-dark: #4B5563; /* gray-600 */
    --nav-bg-dark: #1F2937; /* gray-800 */
    --nav-text-color-dark: #D1D5DB; /* gray-300 */
    --nav-hover-bg-dark: #374151; /* gray-700 */
    --nav-hover-text-color-dark: var(--accent-color-dark);
    --shadow-color-dark: rgba(0, 0, 0, 0.5); /* More pronounced for depth */
    --shadow-color-nav-dark: rgba(0, 0, 0, 0.7);
    --progress-track-dark: #4B5563; /* gray-600 */
    --progress-text-dark: #D1D5DB; /* gray-300 */
    --progress-label-dark: var(--text-color-dark-secondary);
    --input-bg-dark: #374151; /* gray-700 */
    --input-text-dark: #D1D5DB; /* gray-300 */
    --input-focus-border-dark: var(--accent-color-dark);
    --input-focus-shadow-dark: rgba(165, 180, 252, 0.2); /* Adjusted shadow for dark */
    --modal-bg-dark: #1F2937; /* gray-800 */
    --modal-overlay-bg-dark: rgba(0, 0, 0, 0.8);
    --table-header-bg-dark: var(--accent-color-dark);
    --table-header-text-dark: var(--accent-text-color-dark);
    --table-row-odd-bg-dark: #1F2937; /* gray-800 */
    --table-row-even-bg-dark: #374151; /* gray-700 */
    --table-row-border-dark: var(--border-color-dark);
    --action-button-edit-text-dark: var(--accent-color-dark);
    --action-button-edit-hover-bg-dark: #374151; /* gray-700 */
    --action-button-delete-text-dark: #FCA5A5; /* red-300 */
    --action-button-delete-hover-bg-dark: #7f1d1d; /* red-900 */
    --water-glass-bg-dark: #374151; /* gray-700 */
    --water-glass-icon-dark: #6B7280; /* gray-500 */
    --water-glass-filled-bg-dark: #4A5568; /* gray-600 */
    --water-glass-filled-icon-dark: var(--accent-color-dark);
    --calendar-day-bg-dark: #374151; /* gray-700 */
    --calendar-day-text-dark: var(--text-color-dark);
    --calendar-day-hover-bg-dark: var(--accent-color-dark);
    --calendar-day-hover-text-dark: var(--accent-text-color-dark);
    --calendar-selected-day-bg-dark: var(--accent-color-dark);
    --calendar-selected-day-text-dark: var(--accent-text-color-dark);
    --calendar-nav-button-bg-dark: var(--accent-color-dark);
    --calendar-nav-button-text-dark: var(--accent-text-color-dark);
    --calendar-nav-button-hover-bg-dark: var(--accent-color-hover-dark);
    --icon-neutral-color-dark: #9CA3AF; /* gray-400 */
    --icon-neutral-hover-color-dark: #D1D5DB; /* gray-300 */
    
    /* Specific Legend Colors Dark Mode */
    --legend-blue-dark: #A5B4FC; 
    --legend-green-dark: #A7F3D0; 
    --legend-yellow-dark: #FDE68A; 
    --legend-gray-dark: #4B5563; 
    --legend-purple-dark: #D8B4FE;
}

/* Basic font for the app */
body {
    font-family: 'Inter', sans-serif;
    background-color: var(--bg-color-light);
    color: var(--text-color-light);
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* Progress circle container style (SVG container) */
.progress-circle-container {
    position: relative;
    width: 220px; /* Enlarged diameter */
    height: 220px; /* Enlarged height */
    display: flex;
    align-items: center;
    justify-content: center;
}

.progress-circle-container svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    transform: rotate(-90deg); /* Starts the circle at the top */
}

/* Base track for progress circles */
.progress-circle-container svg .progress-bar-track {
    stroke: var(--progress-track-light);
}

.progress-circle-container .text-overlay {
    position: absolute;
    text-align: center;
    z-index: 0; /* Ensures text is above SVG */
    color: var(--progress-text-light);
}

.progress-circle-container .text-overlay .value {
    font-size: 2rem; /* Adjusted text size */
    line-height: 1;
    font-weight: bold;
}

.progress-circle-container .text-overlay .label {
    font-size: 1.25rem; /* Adjusted text size */
    color: var(--progress-label-light);
}

/* Water glasses style */
.water-glass {
    width: 40px; /* w-10 */
    height: 40px; /* h-10 */
    background-color: var(--water-glass-bg-light);
    border-radius: 0.5rem; /* rounded-lg */
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
}

.water-glass i { /* Style for the icon in the water glass */
    font-size: 1.5rem; /* Size of the glass icon */
    color: var(--water-glass-icon-light);
    transition: color 0.2s ease-in-out;
}

.water-glass.filled {
    background-color: var(--water-glass-filled-bg-light);
}

.water-glass.filled i { /* Style for the icon in the filled water glass */
    color: var(--water-glass-filled-icon-light);
}

/* Navigation bar style */
.nav-bar {
    position: fixed;
    bottom: 0;
    background-color: var(--nav-bg-light);
    box-shadow: 0 -4px 5px var(--shadow-color-nav-light);
    border-top-left-radius: 0.75rem; /* rounded-t-xl */
    border-top-right-radius: 0.75rem; /* rounded-t-xl */
    border-top: 1px solid var(--border-color-light);
    padding: 1rem; /* p-4 */
    display: flex;
    justify-content: around; /* justify-around */
    align-items: center;
    width: 100%;
    z-index: 50; /* Changed z-index to 50 */
    transition: background-color 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
}

.nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    color: var(--nav-text-color-light);
    transition: color 0.2s ease-in-out, background-color 0.2s ease-in-out;
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 0.5rem;
}

.nav-item:hover {
    color: var(--nav-hover-text-color-light);
    background-color: var(--nav-hover-bg-light);
}

.nav-item i { /* Style for Font Awesome icons in the navigation */
    font-size: 24px; /* Size of icons */
    margin-bottom: 0.25rem;
}

.nav-item span { /* Style for the text in the navigation */
    font-size: 0.75rem; /* Smaller font size (corresponds to text-xs in Tailwind) */
}


/* New colors for the legend */
.legend-color-blue {
    background-color: var(--legend-blue);
}
.legend-color-green {
    background-color: var(--legend-green);
}
.legend-color-yellow {
    background-color: var(--legend-yellow);
}
.bg-gray-200 { /* Used for Kcal legend in HTML */
    background-color: var(--legend-gray);
}
.bg-purple-300 { /* Used for Portion legend in HTML */
    background-color: var(--legend-purple);
}


/* New text color for links on hover */
.text-color-blue { /* This class is used for general link-like text, not just hover */
    color: var(--text-color-link-light);
}
.text-color-blue:hover {
    color: var(--text-color-link-hover-light);
}


/* Legend style for Donut Chart */
.legend {
    display: flex;
    justify-content: center; /* Aligns legend items to the center */
    gap: 1rem; /* Changed from 4 to 1rem for spacing */
    margin-top: 1rem; /* mt-4 */
    font-size: 0.875rem; /* text-sm */
    flex-wrap: wrap; /* Allows wrapping on smaller screens */
    width: 100%; /* Ensures it takes full width to justify content */
    max-width: 480px; /* Aligns with page-content max-width for consistency */
    margin-left: auto; /* Centers the legend within its parent if parent is wider than max-width */
    margin-right: auto;
    padding-left: 1rem; /* Add padding consistent with page-content */
    padding-right: 1rem; /* Add padding consistent with page-content */
    box-sizing: border-box; /* Include padding in element's total width */
}

.legend div {
    display: flex;
    align-items: center;
    gap: 0.25rem; /* gap-1 */
    white-space: nowrap; /* Prevents text from wrapping within a legend item */
}


/* Style for the Add button (now used for all primary actions) */
.add-button {
    background-color: var(--button-bg-light);
    color: var(--button-text-color-light);
    padding: 0.5rem 1rem;
    border-radius: 9999px; /* rounded-full */
    font-size: 0.875rem; /* text-sm */
    font-weight: 500; /* font-medium */
    transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out, border-color 0.2s ease-in-out;
    border: 1px solid var(--button-border-color-light);
}

.add-button:hover {
    background-color: var(--button-hover-bg-light);
    color: var(--button-hover-text-color-light);
    border-color: var(--button-hover-bg-light); /* Ensure border matches background on hover */
}

/* Style for edit/delete buttons in table */
.action-button {
    padding: 0.5rem;
    border-radius: 0.25rem;
    transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
}

.action-button.edit {
    color: var(--action-button-edit-text-light);
    background-color: transparent;
}

.action-button.edit:hover {
    background-color: var(--action-button-edit-hover-bg-light);
}

.action-button.delete {
    color: var(--action-button-delete-text-light);
    background-color: transparent;
}

.action-button.delete:hover {
    background-color: var(--action-button-delete-hover-bg-light);
}


/* Responsive adjustment for mobile view */
@media (max-width: 640px) {
    .main-container {
        padding-bottom: 80px; /* Space for fixed navigation bar */
    }
    .nav-bar {
        width: 100%;
        left: 0;
        right: 0;
        border-radius: 0; /* No rounded corners at the bottom on small screens */
    }
}

/* Style for page content */
.page-content {
    display: none; /* Hide all page content by default */
    width: 100%;
    max-width: 480px; /* max-w-md from Tailwind for mobile */
    padding: 0.75rem; /* p-4 from Tailwind */
    padding-bottom: 10rem; /* Increased padding-bottom to prevent overlap with fixed nav-bar */
}

/* Adjust max-width for larger screens (desktop) */
@media (min-width: 768px) { /* Tailwind's 'md' breakpoint */
    .page-content {
        max-width: 768px; /* max-w-2xl for desktop */
    }
    /* Adjust navigation bar width for larger screens if needed */
    .nav-bar {
        max-width: 768px; /* Match page content width */
    }
    .legend {
        max-width: 768px; /* Match page content width for desktop */
    }
}


.page-content.active {
    display: block; /* Show active page */
}

/* Table specific styles */
.product-table {
    width: 100%; /* Ensure table takes full width of its container */
    border-collapse: collapse; /* Collapse borders for a cleaner look */
    table-layout: fixed; /* Ensures columns respect width properties */
}

.product-table th,
.product-table td {
    padding: 0.5rem 0.75rem; /* Consistent padding for all cells */
    font-size: 0.875rem; /* text-sm, smaller font size */
    text-align: left;
    vertical-align: middle; /* Vertically align text content */
    border-bottom: none; /* REMOVED border-bottom from cells */
}

.product-table th {
    background-color: var(--table-header-bg-light);
    color: var(--table-header-text-light);
    font-weight: 600;
}

/* Add border-bottom to table rows instead of cells */
.product-table tr {
    border-bottom: 1px solid var(--table-row-border-light);
}

/* Remove border from the last row to avoid double border at the bottom of the table */
.product-table tbody tr:last-child {
    border-bottom: none;
}


.product-table tbody tr:nth-child(odd) {
    background-color: var(--table-row-odd-bg-light);
}

.product-table tbody tr:nth-child(even) {
    background-color: var(--table-row-even-bg-light);
}

/* New styles for the product table content to mimic consumedFoodList */
.product-table-cell-content {
    display: flex;
    flex-direction: column; /* Stack name and details vertically by default (mobile) */
    padding-top: 0.75rem; /* py-1 equivalent */
    padding-bottom: 0.75rem; /* py-1 equivalent */
}

.product-details-container {
    display: flex;
    flex-wrap: wrap; /* Allow details to wrap on multiple lines */
    justify-content: space-around; /* Apply space-around for mobile */
    gap: 0.75rem; /* Space between individual detail items */
    font-size: 0.875rem; /* text-sm */
    color: var(--text-color-light-secondary);
    margin-top: 0.25rem; /* mt-1 */
}

/* Ensure the name is bold and clickable */
.product-table-cell-content > span {
    cursor: pointer;
    font-weight: bold;
    color: var(--text-color-link-light);
}

.product-table-cell-content > span:hover {
    color: var(--text-color-link-hover-light);
}


/* Pagination specific styles */
.pagination-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 1rem;
    flex-wrap: wrap; /* Allow wrapping on small screens */
    gap: 0.5rem; /* Spacing between items if wrapped */
}

.pagination-controls button {
    padding: 0.5rem 1rem; /* Adjusted padding */
    font-size: 0.875rem;
    border-radius: 9999px; /* rounded-full like add-button */
    background-color: var(--button-bg-light);
    color: var(--button-text-color-light);
    border: 1px solid var(--button-border-color-light);
    cursor: pointer;
    transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out, border-color 0.2s ease-in-out; /* Added color and border-color to transition */
    font-weight: 500; /* Added font-medium */
}

.pagination-controls button:hover:not(:disabled) {
    background-color: var(--button-hover-bg-light);
    color: var(--button-hover-text-color-light);
    border-color: var(--button-hover-bg-light);
}

.pagination-controls button:disabled {
    background-color: var(--button-disabled-bg-light);
    color: var(--button-disabled-text-color-light);
    border-color: var(--button-disabled-border-color-light);
    cursor: not-allowed;
}

.pagination-info {
    font-size: 0.875rem;
    color: var(--text-color-light);
}

.items-per-page-select {
    padding: 0.4rem;
    border: 1px solid var(--input-border-light);
    border-radius: 0.25rem;
    font-size: 0.875rem;
    color: var(--input-text-light);
    background-color: var(--input-bg-light);
}

/* Mobile specific table adjustments */
@media (max-width: 768px) {
    /* No need to hide specific columns anymore, as the layout is flexible */
    .product-table th { /* Only the "Produkt" header remains */
        width: 100%; /* Take full width */
    }
    .product-table td {
        display: block; /* Make table cells behave like block elements for stacking */
        width: 100%; /* Take full width */
        padding: 10px 5px; /* Apply padding directly to td */
    }

    /* Adjust padding and font size for smaller screens */
    .product-table th,
    .product-table td {
        font-size: 1rem; /* Slightly smaller font size */
    }

    .product-details-container {
        font-size: 0.8rem; /* Even smaller for details on mobile */
        gap: 0.5rem; /* Smaller gap between details */
    }

    /* Mobile-specific adjustments for pagination controls */
    .pagination-controls {
        flex-direction: column; /* Stack items vertically */
        align-items: center; /* Center items horizontally */
        gap: 1rem; /* Increase gap between stacked items */
    }

    .items-per-page-select {
        width: 100%; /* Make select full width */
        margin-bottom: 0.5rem; /* Add some space below the select */
    }

    .pagination-controls button {
        width: 100%; /* Make buttons full width */
    }

    .pagination-info {
        order: -1; /* Move pagination info to the top */
        margin-bottom: 0.5rem; /* Add some space below the info */
    }
}

/* Desktop specific adjustments for product table content */
@media (min-width: 768px) {
    .product-table-cell-content {
        flex-direction: row; /* Display name and details in a row */
        justify-content: space-between; /* Space them out */
        align-items: center; /* Vertically align items */
    }

    .product-details-container {
        margin-top: 0; /* Remove top margin */
        margin-left: auto; /* Push details to the right */
        flex-wrap: nowrap; /* Prevent wrapping on desktop */
        justify-content: flex-start; /* Revert to flex-start for desktop */
    }

    /* Adjust column widths for desktop display */
    .product-table th:nth-child(1) { /* Produkt column */
        width: 30%;
    }
    .product-table th:nth-child(2) { /* kcal/100g column */
        width: 15%;
    }
    .product-table th:nth-child(3) { /* Kohlenhydrate (g) column */
        width: 15%;
    }
    .product-table th:nth-child(4) { /* Eiweiß (g) column */
        width: 15%;
    }
    .product-table th:nth-child(5) { /* Fett (g) column */
        width: 15%;
    }
    .product-table th:nth-child(6) { /* Portionsgröße (g/ml) column */
        width: 10%;
    }
}


/* Alignment for pageTitle on all screen sizes */
#pageTitle {
    width: 100%; /* Take full width of its parent */
    max-width: 480px; /* Default max-width for mobile */
    margin: 0 auto; /* Center the title horizontally */
    padding: 1rem; /* Padding to match page content */
    padding-bottom: 0; /* No bottom padding for consistency with mb-4 */
}

@media (min-width: 768px) {
    #pageTitle {
        max-width: 768px; /* Increase max-width for desktop */
    }
}

/* Calendar Grid Day Styling */
#calendarGrid > div { /* Target all direct children of calendarGrid (weekday headers and day numbers) */
    display: flex;
    align-items: center;
    justify-content: center;
    aspect-ratio: 1 / 1; /* Make them square to ensure perfect circles when border-radius is 50% */
    border-radius: 9999px; /* Make it circular */
    transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
    width: 36px; /* Default size for mobile */
    height: 36px; /* Default size for mobile */
}

/* Style for non-selected actual day numbers */
#calendarGrid div[data-date].non-selected-day {
    background-color: var(--calendar-day-bg-light);
    color: var(--calendar-day-text-light);
    cursor: pointer;
    padding: 0; /* Let flexbox handle centering */
    font-size: 1.0rem; /* Adjusted font size as requested */
}

#calendarGrid div[data-date].non-selected-day:hover {
    background-color: var(--calendar-day-hover-bg-light);
    color: var(--calendar-day-hover-text-light);
}

/* Style for the selected day */
#calendarGrid div[data-date].selected-day { /* New class for selected day with higher specificity */
    background-color: var(--calendar-selected-day-bg-light);
    color: var(--calendar-selected-day-text-light);
    font-weight: bold;
}

#calendarGrid div[data-date].selected-day:hover {
    background-color: var(--calendar-selected-day-bg-light); /* Keep selected style on hover */
    color: var(--calendar-selected-day-text-light);
}

/* Calendar Navigation Buttons Styling */
.calendar-nav-button {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px; /* Fixed width for circular shape */
    height: 36px; /* Fixed height for circular shape */
    border-radius: 9999px; /* Make it circular */
    background-color: var(--calendar-nav-button-bg-light);
    color: var(--calendar-nav-button-text-light);
    font-size: 1.25rem; /* Larger icon/text for buttons */
    font-weight: bold;
    border: none; /* Remove default border */
    cursor: pointer;
    transition: background-color 0.2s ease-in-out;
}

.calendar-nav-button:hover {
    background-color: var(--calendar-nav-button-hover-bg-light);
}

/* Desktop specific adjustments for calendar days */
@media (min-width: 768px) {
    #calendarGrid > div { /* Apply to all grid items, including weekday headers for consistency */
        width: 50px; /* Fixed width for desktop */
        height: 50px; /* Fixed height for desktop */
    }
    #calendarGrid div[data-date] {
        font-size: 1.1rem; /* Adjust font size for better fit in 50px circle */
    }
}

/* Modal styles */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--modal-overlay-bg-light);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000; /* Ensure it's on top of other content */
}

.modal-content {
    background-color: var(--modal-bg-light);
    padding: 1.5rem;
    border-radius: 0.75rem; /* rounded-xl */
    box-shadow: 0 10px 15px var(--shadow-color-light);
    width: 90%;
    max-width: 400px; /* Max width for the modal */
    position: relative;
}

.modal-content input[type="number"],
.modal-content input[type="text"] {
    border: 1px solid var(--input-border-light);
    background-color: var(--input-bg-light);
    color: var(--input-text-light);
    transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

.modal-content input[type="number"]:focus,
.modal-content input[type="text"]:focus {
    border-color: var(--input-focus-border-light);
    box-shadow: 0 0 0 3px var(--input-focus-shadow-light);
}

.modal-content button {
    /* Apply base button styles if not already applied by Tailwind */
    cursor: pointer;
}

/* Ensure other page content does not scroll while modal is open */
body.modal-open {
    overflow: hidden;
}

/* Meal entry in today page */
.meal-entry {
    background-color: var(--card-bg-light); /* Use card-bg for consistency */
    border-radius: 0.75rem;
    box-shadow: 0 4px 6px var(--shadow-color-light);
    padding: 1rem;
    margin-bottom: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    transition: background-color 0.2s ease-in-out;
}

.meal-entry:hover {
    background-color: var(--bg-color-light); /* Use main bg for hover, slightly darker */
}

/* For product table, ensure proper spacing for icons */
.product-actions {
    display: flex;
    gap: 0.5rem; /* Space between action icons */
}

.product-actions button {
    background: none;
    border: none;
    color: var(--icon-neutral-color-light);
    cursor: pointer;
    font-size: 1.1rem;
    padding: 0.25rem;
    transition: color 0.2s ease-in-out;
}

.product-actions button:hover {
    color: var(--icon-neutral-hover-color-light);
}

/* Specific button style for add food entry on meals page */
.add-food-entry-button {
    background-color: var(--accent-color-light);
    color: var(--accent-text-color-light);
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    font-weight: 600;
    width: 100%; /* Make it full width */
    text-align: center;
    margin-top: 1rem;
    border: none;
    transition: background-color 0.2s ease-in-out;
}
.add-food-entry-button:hover {
    background-color: var(--accent-color-hover-light);
}

/* Style for message box confirmation */
.message-box {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: var(--modal-bg-light);
    color: var(--text-color-light);
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 6px var(--shadow-color-light);
    z-index: 1000;
    text-align: center;
}

/* Flex container for food entries */
.food-entry-container {
    display: flex;
    flex-wrap: wrap; /* Allows items to wrap to the next line */
    gap: 1rem; /* Space between food entry boxes */
}

.food-entry-box {
    background-color: var(--card-bg-light); /* Use card-bg for consistency */
    border-radius: 0.75rem;
    box-shadow: 0 4px 6px var(--shadow-color-light);
    padding: 1rem;
    width: calc(50% - 0.5rem); /* Two items per row with gap */
    box-sizing: border-box; /* Include padding in width */
    cursor: pointer;
    transition: background-color 0.2s ease-in-out;
}

.food-entry-box:hover {
    background-color: var(--bg-color-light); /* Use main bg for hover */
}


/* Tailwind utility class overrides for general consistency */
.bg-white { background-color: var(--card-bg-light); }
.text-gray-700 { color: var(--text-color-light); } /* Assuming this is primary text */
.text-gray-500 { color: var(--text-color-light-secondary); }
.border-gray-300 { border-color: var(--input-border-light); }
.shadow-lg { box-shadow: 0 10px 15px -3px var(--shadow-color-light), 0 4px 6px -2px var(--shadow-color-light); }
.shadow-md { box-shadow: 0 4px 6px -1px var(--shadow-color-light), 0 2px 4px -1px var(--shadow-color-light); }

/* ------------------------- DARK MODE STYLES ------------------------- */

body.dark-mode {
    background-color: var(--bg-color-dark);
    color: var(--text-color-dark);
}

body.dark-mode .bg-white { background-color: var(--card-bg-dark); }
body.dark-mode .text-gray-700 { color: var(--text-color-dark); }
body.dark-mode .text-gray-500 { color: var(--text-color-dark-secondary); }
body.dark-mode .border-gray-300 { border-color: var(--input-border-dark); }
body.dark-mode .shadow-lg { box-shadow: 0 10px 15px -3px var(--shadow-color-dark), 0 4px 6px -2px var(--shadow-color-dark); }
body.dark-mode .shadow-md { box-shadow: 0 4px 6px -1px var(--shadow-color-dark), 0 2px 4px -1px var(--shadow-color-dark); }

/* Specific component dark mode overrides */

body.dark-mode .progress-circle-container svg .progress-bar-track {
    stroke: var(--progress-track-dark);
}
/* Progress arc colors for dark mode */
body.dark-mode .progress-circle-container svg circle[stroke="#DED79F"] { stroke: var(--legend-yellow-dark); } /* Corresponds to var(--legend-yellow-light) */
body.dark-mode .progress-circle-container svg circle[stroke="#D4EAE4"] { stroke: var(--legend-green-dark); } /* Corresponds to var(--legend-green-light) */
body.dark-mode .progress-circle-container svg circle[stroke="#9FB8DF"] { stroke: var(--legend-blue-dark); } /* Corresponds to var(--legend-blue-light) */
body.dark-mode .progress-circle-container svg circle[stroke="#C084FC"] { stroke: var(--legend-purple-dark); } /* Corresponds to var(--legend-purple-light) */
body.dark-mode .progress-circle-container svg circle[stroke="#E5E7EB"] { stroke: var(--legend-gray-dark); } /* Corresponds to var(--legend-gray-light) for kcal used in HTML */


body.dark-mode .progress-circle-container .text-overlay {
    color: var(--progress-text-dark);
}
body.dark-mode .progress-circle-container .text-overlay .label {
    color: var(--progress-label-dark);
}

body.dark-mode .water-glass {
    background-color: var(--water-glass-bg-dark);
}
body.dark-mode .water-glass i {
    color: var(--water-glass-icon-dark);
}
body.dark-mode .water-glass.filled {
    background-color: var(--water-glass-filled-bg-dark);
}
body.dark-mode .water-glass.filled i {
    color: var(--water-glass-filled-icon-dark);
}

body.dark-mode .nav-bar {
    background-color: var(--nav-bg-dark);
    box-shadow: 0 -4px 5px var(--shadow-color-nav-dark);
    border-top-color: var(--border-color-dark);
}
body.dark-mode .nav-item {
    color: var(--nav-text-color-dark);
}
body.dark-mode .nav-item:hover {
    color: var(--nav-hover-text-color-dark);
    background-color: var(--nav-hover-bg-dark);
}

body.dark-mode .legend-color-blue { background-color: var(--legend-blue-dark); }
body.dark-mode .legend-color-green { background-color: var(--legend-green-dark); }
body.dark-mode .legend-color-yellow { background-color: var(--legend-yellow-dark); }
body.dark-mode .bg-gray-200 { background-color: var(--legend-gray-dark); }
body.dark-mode .bg-purple-300 { background-color: var(--legend-purple-dark); }


body.dark-mode .text-color-blue {
    color: var(--text-color-link-dark);
}
body.dark-mode .text-color-blue:hover {
    color: var(--text-color-link-hover-dark);
}

body.dark-mode .add-button {
    background-color: var(--button-bg-dark);
    color: var(--button-text-color-dark);
    border-color: var(--button-border-color-dark);
}
body.dark-mode .add-button:hover {
    background-color: var(--button-hover-bg-dark);
    color: var(--button-hover-text-color-dark);
    border-color: var(--button-hover-bg-dark);
}

body.dark-mode .action-button.edit {
    color: var(--action-button-edit-text-dark);
}
body.dark-mode .action-button.edit:hover {
    background-color: var(--action-button-edit-hover-bg-dark);
}
body.dark-mode .action-button.delete {
    color: var(--action-button-delete-text-dark);
}
body.dark-mode .action-button.delete:hover {
    background-color: var(--action-button-delete-hover-bg-dark);
}

body.dark-mode .product-table th {
    background-color: var(--table-header-bg-dark);
    color: var(--table-header-text-dark);
}
body.dark-mode .product-table tr {
    border-bottom-color: var(--table-row-border-dark);
}
body.dark-mode .product-table tbody tr:nth-child(odd) {
    background-color: var(--table-row-odd-bg-dark);
}
body.dark-mode .product-table tbody tr:nth-child(even) {
    background-color: var(--table-row-even-bg-dark);
}
body.dark-mode .product-table-cell-content > span {
    color: var(--text-color-link-dark);
}
body.dark-mode .product-table-cell-content > span:hover {
    color: var(--text-color-link-hover-dark);
}
body.dark-mode .product-details-container {
    color: var(--text-color-dark-secondary);
}

body.dark-mode .pagination-controls button {
    background-color: var(--button-bg-dark);
    color: var(--button-text-color-dark);
    border-color: var(--button-border-color-dark);
}
body.dark-mode .pagination-controls button:hover:not(:disabled) {
    background-color: var(--button-hover-bg-dark);
    color: var(--button-hover-text-color-dark);
    border-color: var(--button-hover-bg-dark);
}
body.dark-mode .pagination-controls button:disabled {
    background-color: var(--button-disabled-bg-dark);
    color: var(--button-disabled-text-color-dark);
    border-color: var(--button-disabled-border-color-dark);
}
body.dark-mode .pagination-info {
    color: var(--text-color-dark);
}
body.dark-mode .items-per-page-select {
    border-color: var(--input-border-dark);
    color: var(--input-text-dark);
    background-color: var(--input-bg-dark);
}

body.dark-mode #calendarGrid > div.font-semibold { /* Weekday headers */
     color: var(--text-color-dark-secondary);
}
body.dark-mode #calendarGrid div[data-date].non-selected-day {
    background-color: var(--calendar-day-bg-dark);
    color: var(--calendar-day-text-dark);
}
body.dark-mode #calendarGrid div[data-date].non-selected-day:hover {
    background-color: var(--calendar-day-hover-bg-dark);
    color: var(--calendar-day-hover-text-dark);
}
body.dark-mode #calendarGrid div[data-date].selected-day {
    background-color: var(--calendar-selected-day-bg-dark);
    color: var(--calendar-selected-day-text-dark);
}
body.dark-mode #calendarGrid div[data-date].selected-day:hover {
    background-color: var(--calendar-selected-day-bg-dark);
    color: var(--calendar-selected-day-text-dark);
}
body.dark-mode .calendar-nav-button {
    background-color: var(--calendar-nav-button-bg-dark);
    color: var(--calendar-nav-button-text-dark);
}
body.dark-mode .calendar-nav-button:hover {
    background-color: var(--calendar-nav-button-hover-bg-dark);
}

body.dark-mode .modal-overlay {
    background-color: var(--modal-overlay-bg-dark);
}
body.dark-mode .modal-content {
    background-color: var(--modal-bg-dark);
    box-shadow: 0 10px 15px var(--shadow-color-dark);
}
body.dark-mode .modal-content input[type="number"],
body.dark-mode .modal-content input[type="text"] {
    border-color: var(--input-border-dark);
    background-color: var(--input-bg-dark);
    color: var(--input-text-dark);
}
body.dark-mode .modal-content input[type="number"]:focus,
body.dark-mode .modal-content input[type="text"]:focus {
    border-color: var(--input-focus-border-dark);
    box-shadow: 0 0 0 3px var(--input-focus-shadow-dark);
}
/* Ensure placeholder text is also visible in dark mode */
body.dark-mode input::placeholder {
    color: var(--text-color-dark-secondary);
    opacity: 0.7;
}
body.dark-mode select { /* Assuming select might exist in modals or forms */
    background-color: var(--input-bg-dark);
    color: var(--input-text-dark);
    border-color: var(--input-border-dark);
}

body.dark-mode .meal-entry {
    background-color: var(--card-bg-dark);
    box-shadow: 0 4px 6px var(--shadow-color-dark);
    /* border: 1px solid var(--border-color-dark); */ /* Alternative to shadow */
}
body.dark-mode .meal-entry:hover {
    background-color: var(--bg-color-dark); /* Use main bg for hover */
}

body.dark-mode .product-actions button {
    color: var(--icon-neutral-color-dark);
}
body.dark-mode .product-actions button:hover {
    color: var(--icon-neutral-hover-color-dark);
}

body.dark-mode .add-food-entry-button {
    background-color: var(--accent-color-dark);
    color: var(--accent-text-color-dark);
}
body.dark-mode .add-food-entry-button:hover {
    background-color: var(--accent-color-hover-dark);
}

body.dark-mode .message-box {
    background-color: var(--modal-bg-dark);
    color: var(--text-color-dark);
    box-shadow: 0 4px 6px var(--shadow-color-dark);
}

body.dark-mode .food-entry-box {
    background-color: var(--card-bg-dark);
    box-shadow: 0 4px 6px var(--shadow-color-dark);
    /* border: 1px solid var(--border-color-dark); */
}
body.dark-mode .food-entry-box:hover {
    background-color: var(--bg-color-dark);
}

/* Ensure FontAwesome icons inherit color correctly in dark mode */
body.dark-mode .fa-solid {
     color: inherit; /* This will make them inherit from their parent */
}
/* Specific overrides if inherit isn't enough or specific color is needed */
body.dark-mode .nav-item i, body.dark-mode .nav-item span {
    /* color is handled by .nav-item color var(--nav-text-color-dark) */
}
body.dark-mode .text-blue-600 { /* e.g., BMI recommendation text from index.html */
    color: var(--accent-color-dark);
}
body.dark-mode .text-red-500 { /* e.g., delete buttons text color */
    color: var(--action-button-delete-text-dark);
}
body.dark-mode .border-red-500 { /* e.g., delete buttons border color */
    border-color: var(--action-button-delete-text-dark);
}
/* For buttons that turn text white on hover in light mode, make text dark on light bg in dark mode */
body.dark-mode .hover\:text-white:hover {
    color: var(--accent-text-color-dark);
}
body.dark-mode .hover\:bg-red-500:hover { /* For delete buttons with bg change on hover */
    background-color: var(--action-button-delete-text-dark);
}

/* General text utilities from Tailwind if used */
body.dark-mode .text-gray-900 { color: var(--text-color-dark) !important; }
body.dark-mode .text-gray-800 { color: var(--text-color-dark) !important; }
body.dark-mode .text-gray-600 { color: var(--text-color-dark-secondary) !important; }
body.dark-mode .text-gray-400 { color: var(--text-color-dark-tertiary) !important; }

body.dark-mode .border-gray-200 { border-color: var(--border-color-dark) !important; }

body.dark-mode .bg-gray-50 { background-color: var(--table-row-even-bg-dark) !important; }
body.dark-mode .bg-gray-100 { background-color: var(--bg-color-dark) !important; } /* if used as main page bg */

/* Ensure any direct white/black text colors are handled */
body.dark-mode .text-black { color: var(--text-color-dark) !important; }
body.dark-mode .text-white { color: var(--text-color-dark) !important; } /* Careful with this, might be for text on dark backgrounds already */

/* For elements that become light on dark background */
body.dark-mode .text-on-accent {
    color: var(--accent-text-color-dark);
}

/* If there are any explicit `stroke` attributes in SVGs other than progress circle that need theming: */
/* Example: body.dark-mode .some-svg-icon { stroke: var(--icon-neutral-color-dark); } */

/* Toggle Switch Styles */
.toggle-label {
    background-color: #E5E7EB; /* gray-200 */
    /* transition: background-color 0.2s ease-in-out; */ /* Tailwind class handles transition */
}

.toggle-checkbox {
    background-color: white;
    border-color: #E5E7EB; /* gray-200 */
    transition: all 0.2s ease-in-out;
    left: 0; /* Default position for LTR */
}

.toggle-checkbox:checked {
    left: 1.0rem; /* Moves the toggle to the right */
    border-color: var(--legend-blue, #9FB8DF); 
    background-color: var(--legend-blue, #9FB8DF);
}

.toggle-checkbox:checked + .toggle-label {
    background-color: var(--legend-blue, #9FB8DF);
}

/* Dark Mode Toggle Styles */
body.dark-mode .toggle-label {
    background-color: #4B5563; /* gray-600 for dark mode off state */
}
body.dark-mode .toggle-checkbox {
    background-color: var(--card-bg-dark, #1F2937); 
    border-color: #4B5563; /* gray-600 */
}
body.dark-mode .toggle-checkbox:checked {
    /* left: 1.0rem; is inherited from .toggle-checkbox:checked */
    border-color: rgba(0, 0, 0, 0.3); 
    background-color: var(--legend-blue-dark, #A5B4FC);
}
body.dark-mode .toggle-checkbox:checked + .toggle-label {
    background-color: var(--legend-blue-dark, #A5B4FC);
}
[end of style.css]
